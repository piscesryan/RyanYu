<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<h:head>
	<meta http-equiv="X-UA-Compatible" content="IE=7" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="Cache-Control" content="no-transform " />
	<meta http-equiv="pragma" content="no-cache" />
	<meta http-equiv="Cache-Control" content="no-store, must-revalidate" />
	<meta http-equiv="expires" content="0" />
	<title>数据页面-丙机房发射机故障预警系统</title>

	<script src="#{request.contextPath}/js/jquery-1.10.2.min.js"
		type="text/javascript"></script>
	<script language="javascript" type="text/javascript"
		src="#{request.contextPath}/My97DatePicker/WdatePicker.js"></script>
	<script src="#{request.contextPath}/js/common/common.js"
		type="text/javascript"></script>
	<link rel="stylesheet"
		href="#{request.contextPath}/css/common/common.css" />
	<script src="#{request.contextPath}/js/chart/Chart.js"></script>
	<script type="text/javascript">
		$(function(){
			var nvs=document.getElementById("left_nav").getElementsByTagName("DIV");
			for(var i=0; i &lt; nvs.length;i++){
				var nv=nvs[i];
				if($(nv).children("img").attr("alt").indexOf("配置") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/set.png");
				}
				if($(nv).children("img").attr("alt").indexOf("设备总况") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/menuAct/deviceAct.png");
				}
				if($(nv).children("img").attr("alt").indexOf("告警管理") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/alarmMng.png");
				}
				if($(nv).children("img").attr("alt").indexOf("查询中心") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/searchCenter.png");
				}
				if($(nv).children("img").attr("alt").indexOf("数据处理") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/dataDeal.png");
				}
				if($(nv).children("img").attr("alt").indexOf("系统日志") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/systemLog.png");
				}
				if($(nv).children("img").attr("alt").indexOf("退出系统") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/exit.png");
				}
			}
		});
		
	</script>
	<style type="text/css">
.file-box {
	position: relative;
}

.txt {
	height: 22px;
	border: 1px solid #cdcdcd;
	width: 180px;
}

.btn {
	background-color: #FFF;
	border: 1px solid #CDCDCD;
	height: 24px;
	width: 90px;
	color: #333;
}

.ui-widget {
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	font-size: 16px !important;
}

.file {
	position: absolute;
	top: 0;
	right: 80px;
	height: 24px;
	filter: alpha(opacity : 0);
	opacity: 0;
	width: 260px
}
</style>
	<style type="text/css">
.left_nav div {
	float: left;
	margin-left: 10px;
}

.left {
	float: left;
}

.right {
	float: right;
}

.tool_bar div {
	float: left;
	width: 100px;
	text-align: center;
	height: 30px;
	background: url("Image/common/title_bg.png");
	border: 1px solid #DDD;
	cursor: pointer;
}

.tool_bar div span {
	position: relative;
	top: 4px;
	font-size: 14px;
	color: #333;
}

.tab div {
	float: left;
	width: 100px;
	text-align: center;
	height: 30px;
	background: #F2F2F2;
	border: 1px solid #DDD;
	cursor: pointer;
}

.tab div span {
	position: relative;
	top: 4px;
	font-size: 14px;
	color: #333;
}

table td {
	text-align: center;
}

table th {
	text-align: center;
}

.ui-widget-header {
	border: none !important;
}

.firstline>div {
	float: left;
	width: 20%;
}

.secondline>div {
	float: left;
	width: 20%;
}

.firstline>div>span {
	
}

.firstline>div>select {
	width: 100px;
}

.secondline>div>select {
	width: 100px;
}

.popinput>div {
	height: 40px;
	margin-left: 20px;
}

.popinput input {
	height: 20px;
	border: 1px solid rgb(170, 170, 170);
}

#canvas-holder1 {
	width: 300px;
	margin: 20px auto;
}

#canvas-holder2 {
	width: 70%;
	margin: 50px auto;
	float: left;
}

#chartjs-tooltip {
	opacity: 1;
	position: absolute;
	background: rgba(0, 0, 0, .7);
	color: white;
	padding: 3px;
	border-radius: 3px;
	-webkit-transition: all .1s ease;
	transition: all .1s ease;
	pointer-events: none;
	-webkit-transform: translate(-50%, 0);
	transform: translate(-50%, 0);
}

.chartjs-tooltip-key {
	display: inline-block;
	width: 10px;
	height: 10px;
}
</style>

</h:head>
<h:body style="margin: 0px;padding: 0px;overflow: hidden;">
	<h:form id="form">
		<ui:include src="common/head.xhtml">
		</ui:include>
		<div
			style="padding: 0px 22px; background: rgb(219, 234, 255) none repeat scroll 0% 0%; height: 349px;"
			class="mainContent">

			<div
				style="background: rgb(255, 255, 255) none repeat scroll 0% 0%; height: 100%;">
				<div
					style="background: rgb(219, 234, 255) none repeat scroll 0% 0%;">
					<div
						style="height: 50px; background: transparent url(&quot;Image/common/title_bg.png&quot;) repeat scroll 0% 0%; border: 1px solid rgb(204, 204, 204); border-top-right-radius: 1em; border-top-left-radius: 1em;">
						<div style="float: left;">
							<div
								style="width: 130px; text-align: center; background: rgb(233, 235, 239) none repeat scroll 0% 0%; z-index: 10; border-top-left-radius: 1em; height: 50px; float: left; box-shadow: 3px 0px 3px rgb(0, 0, 0);">
								<span
									style="font-size: 18px; position: relative; top: 12px; font-weight: bold; color: rgb(119, 119, 119);">设备总况</span>
							</div>
							<div style="float: left;">
								<span
									style="z-index: 1; position: relative; top: -23px; font-size: 64px; left: -6px; text-shadow: 1px 0px 1px rgb(99, 96, 96); color: rgb(233, 235, 239);"
									class="entity-triangle">▶</span>
							</div>
						</div>
						<div style="position: relative; left: -55px;">
							<div
								style="width: 380px; text-align: center; float: left; background: rgb(233, 235, 239) none repeat scroll 0% 0%; z-index: 10; box-shadow: 3px 0px 3px rgb(0, 0, 0); height: 50px;">
								<span
									style="font-size: 18px; position: relative; top: 12px; font-weight: bold; color: rgb(51, 51, 51); left: 20px;">CO2发射机温度状态监控-整流柜部分</span>
							</div>
							<div style="">
								<span
									style="color: rgb(233, 235, 239); z-index: 1; position: relative; top: -23px; font-size: 65px; left: -6px; text-shadow: 3px 2px 3px rgb(99, 96, 96);"
									class="entity-triangle">▶</span>
							</div>
						</div>

					</div>
				</div>
				<div
					style="position: relative; width: 90%; margin: 0px auto; clear: both;">

					<!-- 折线图展示 开始 -->
					<div id="canvas-holder2">
						<canvas id="chart2" width="450" height="200" />
						<div id="chartjs-tooltip"></div>
					</div>
					<div style="position: relative; left: 100px;">
						<div>
							<div style="margin-left: 40px; margin-top: 20px;"
								class="tool_bar">
								<div>
									<span>实时数据</span>
								</div>
								<div>
									<span>当日趋势图</span>
								</div>
							</div>
							<div>
								<img
									style="cursor: pointer; position: relative; top: 4px; left: 4px;"
									src="Image/dataDeal/print.png" />
							</div>
						</div>
						<div>
							<div style="margin-top: 60px;">
								<div
									style="width: 20px; height: 20px; float: left; background: rgb(192, 78, 77) none repeat scroll 0% 0%;"></div>
								<span
									style="margin-left: 10px; color: rgb(192, 78, 77); font-weight: bold;">A点温度</span>
							</div>
							<div style="margin-top: 10px;">
								<div
									style="width: 20px; height: 20px; float: left; background: rgb(76, 127, 190) none repeat scroll 0% 0%;"></div>
								<span
									style="display: inline-block; margin-left: 10px; color: rgb(76, 127, 190); font-weight: bold;">B点温度</span>
							</div>
						</div>
					</div>

					<script>

						    Chart.defaults.global.pointHitDetectionRadius = 1;
						    Chart.defaults.global.customTooltips = function(tooltip) {
						
						        var tooltipEl = $('#chartjs-tooltip');
						
						        if (!tooltip) {
						            tooltipEl.css({
						                opacity: 0
						            });
						            return;
						        }
						
						        tooltipEl.removeClass('above below');
						        tooltipEl.addClass(tooltip.yAlign);
						
						        var innerHtml = '';
						        for (var i = tooltip.labels.length - 1; i >= 0; i--) {
						        	innerHtml += [
						        		'<div class="chartjs-tooltip-section">',
						        		'	<span class="chartjs-tooltip-key" style="background-color:' + tooltip.legendColors[i].fill + '"></span>',
						        		'	<span class="chartjs-tooltip-value">' + tooltip.labels[i] + '</span>',
						        		'</div>'
						        	].join('');
						        }
						        tooltipEl.html(innerHtml);
						
						        tooltipEl.css({
						            opacity: 1,
						            left: tooltip.chart.canvas.offsetLeft + tooltip.x + 'px',
						            top: tooltip.chart.canvas.offsetTop + tooltip.y + 'px',
						            fontFamily: tooltip.fontFamily,
						            fontSize: tooltip.fontSize,
						            fontStyle: tooltip.fontStyle,
						        });
						    };
						    var randomScalingFactor = function() {
						        return Math.round(Math.random() * 40);
						    };
						    var lineChartData = {
						        labels: ["00:00", "01:00", "02:00", "03:00", "04:00", "05:00", "06:00", "07:00", "08:00", "09:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"],
						        datasets: [{
						            label: "My First dataset",
						            fillColor: "rgba(255,255,255,0.2)",
						            strokeColor: "#C94D4D",
						            pointColor: "#C94D4D",
						            pointStrokeColor: "#fff",
						            pointHighlightFill: "#fff",
						            pointHighlightStroke: "rgba(220,220,220,1)",
						            data: [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]
						        }, {
						            label: "My Second dataset",
						            fillColor: "rgba(255,255,255,0.2)",
						            strokeColor: "#4C7FBE",
						            pointColor: "rgba(151,187,205,1)",
						            pointStrokeColor: "#fff",
						            pointHighlightFill: "#fff",
						            pointHighlightStroke: "rgba(151,187,205,1)",
						            data:  [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]
						        }]
						    };
						
						    window.onload = function() {
						       
						
						        var ctx2 = document.getElementById("chart2").getContext("2d");
						        window.myLine = new Chart(ctx2).Line(lineChartData, {
						            responsive: true
						        });
						    };
						    </script>
					<!-- 折线图展示 结束 -->

				</div>
			</div>
		</div>
		<ui:include src="common/footer.xhtml">
		</ui:include>
	</h:form>

</h:body>
</html>
