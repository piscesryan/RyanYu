<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<h:head>
	<meta http-equiv="X-UA-Compatible" content="IE=7" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="Cache-Control" content="no-transform " />
	<meta http-equiv="pragma" content="no-cache" />
	<meta http-equiv="Cache-Control" content="no-store, must-revalidate" />
	<meta http-equiv="expires" content="0" />
	<title>管理告警-丙机房发射机故障预警系统</title>

	<script src="js/jquery-1.10.2.min.js" type="text/javascript"></script>
	<script src="js/common/common.js" type="text/javascript"></script>
	<script language="javascript" type="text/javascript"
		src="#{request.contextPath}/My97DatePicker/WdatePicker.js"></script>
	<link rel="stylesheet" href="css/common/common.css" />
	<script type="text/javascript">
		$(function(){
			var nvs=document.getElementById("left_nav").getElementsByTagName("DIV");
			for(var i=0; i &lt; nvs.length;i++){
				var nv=nvs[i];
				if($(nv).children("img").attr("alt").indexOf("配置") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/set.png");
				}
				if($(nv).children("img").attr("alt").indexOf("设备总况") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/device.png");
				}
				if($(nv).children("img").attr("alt").indexOf("告警管理") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/menuAct/alarmAct.png");
				}
				if($(nv).children("img").attr("alt").indexOf("查询中心") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/searchCenter.png");
				}
				if($(nv).children("img").attr("alt").indexOf("数据处理") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/dataDeal.png");
				}
				if($(nv).children("img").attr("alt").indexOf("系统日志") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/systemLog.png");
				}
				if($(nv).children("img").attr("alt").indexOf("退出系统") &gt;= 0){
					$(nv).children("img").attr("src","#{request.contextPath}/common/image/exit.png");
				}
			}
		});
		function fuwuqiPop(){
			$("#fwqPop").css("display","block");			
		}
		function fuwuqiHide(){
			$("#fwqPop").css("display","none");			
		}
		function tishiPop(){
			$("#tishiPop").css("display","block");			
		}
		function tishiHide(){
			$("#tishiPop").css("display","none");			
		}
		function displayLiebiao(){
			$("#liebiao").css("display","block");
			$("#canvas-holder2").css("visibility","hidden");
		}
		function displayZhexiantu(){
			$("#liebiao").css("display","none");
			$("#canvas-holder2").css("visibility","visible");	
		}
	</script>
	<style type="text/css">
.file-box {
	position: relative;
}

.txt {
	height: 22px;
	border: 1px solid #cdcdcd;
	width: 180px;
}

.btn {
	background-color: #FFF;
	border: 1px solid #CDCDCD;
	height: 24px;
	width: 90px;
	color: #333;
}

.ui-widget {
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	font-size: 16px !important;
}

.file {
	position: absolute;
	top: 0;
	right: 80px;
	height: 24px;
	filter: alpha(opacity :   0);
	opacity: 0;
	width: 260px
}
</style>
	<style type="text/css">
.left_nav div {
	float: left;
	margin-left: 10px;
}

.left {
	float: left;
}

.right {
	float: right;
}

.tool_bar div {
	float: left;
	width: 120px;
	text-align: center;
	height: 30px;
	background: url("Image/common/title_bg.png");
	border: 1px solid #DDD;
	cursor: pointer;
}

.tool_bar div span {
	position: relative;
	top: 4px;
	font-size: 14px;
	color: #333;
}

table td {
	text-align: center;
}

table th {
	text-align: center;
}

.ui-widget-header {
	border: none !important;
}

.firstline>div {
	float: left;
	width: 20%;
}

.firstline>div>span {
	
}

.firstline>div>select {
	width: 100px;
}

.secondline>div {
	float: left;
	width: 18%;
}

.secondline>div>select {
	width: 100px;
	height: 26px;
}

.tool_bar div {
	float: left;
	width: 110px;
	text-align: center;
	height: 30px;
	background: url("Image/common/title_bg.png");
	border: 1px solid #DDD;
	cursor: pointer;
}

.tool_bar div span {
	position: relative;
	top: 4px;
	font-size: 14px;
	color: #333;
}

.tab div {
	float: left;
	width: 100px;
	text-align: center;
	height: 30px;
	background: #F2F2F2;
	border: 1px solid #DDD;
	cursor: pointer;
}

.tab div span {
	position: relative;
	top: 4px;
	font-size: 14px;
	color: #333;
}
</style>
<script type="text/javascript">
</script>

</h:head>
<h:body style="margin: 0px;padding: 0px;overflow: hidden;">
	<h:form id="form">
		<p:remoteCommand actionListener="#{settingAction.testAction}" name="test_action"/>
		<ui:include src="common/head.xhtml">
		</ui:include>

		<div
			style="padding: 0px 22px; background: rgb(219, 234, 255) none repeat scroll 0% 0%; height: 349px;"
			class="mainContent">

			<div
				style="background: rgb(255, 255, 255) none repeat scroll 0% 0%; height: 100%;">
				<div
					style="background: rgb(219, 234, 255) none repeat scroll 0% 0%;">
					<div
						style="height: 50px; background: transparent url(&quot;Image/common/title_bg.png&quot;) repeat scroll 0% 0%; border: 1px solid rgb(204, 204, 204); border-top-right-radius: 1em; border-top-left-radius: 1em;">
						<div
							style="width: 130px; text-align: center; height: 100%; float: left; background: rgb(233, 235, 239) none repeat scroll 0% 0%; z-index: 10; border-top-left-radius: 1em; box-shadow: 3px 0px 3px rgb(0, 0, 0);">
							<span
								style="font-size: 18px; position: relative; top: 12px; font-weight: bold; color: rgb(51, 51, 51);">管理告警</span>
						</div>
						<div style="">
							<span
								style="color: rgb(233, 235, 239); z-index: 1; position: relative; top: -23px; font-size: 65px; left: -6px; text-shadow: 3px 2px 3px rgb(99, 96, 96);"
								class="entity-triangle">▶</span>
						</div>

					</div>
				</div>
				<div>

					<div
						style="padding-left: 40px; padding-right: 40px; padding-top: 20px; border-bottom: 2px solid rgb(221, 221, 221);"
						id="data_input">
						<div style="width: 1100px;" class="firstline">
							<div style="position: absolute; width: 1100px;">
								<div class="tool_bar">
									<div onclick="fuwuqiPop()">
										<span>处理告警</span>
									</div>
									<div
										onclick="redirect('#{request.contextPath}/alarmSet.xhtml')">
										<span>测温点告警配置</span>
									</div>
								</div>
								<div
									style="margin-left: 50px; float: left; position: relative; box-shadow: 0px -1px 1px rgb(119, 119, 119); top: 2px;">
									<input
										style="height: 26px; border: 1px solid rgb(170, 170, 170); width: 200px;"
										type="text" />
								</div>
								<div style="margin-left: 40px;" class="tool_bar">
									<div>
										<span>重发告警设置</span>
									</div>

								</div>
								<div
									style="font-size: 14px; margin-top: 10px; margin-left: 10px; float: left; position: relative;">
									<span>当前重发告警时间：300秒</span>
								</div>

							</div>
						</div>
						<div
							style="clear: both; margin-top: 50px; margin-bottom: 90px; width: 1100px;"
							class="secondline">
							<div>
								<span>告警等级</span> 
								<select id="selectKK" onChange="onChangeSelect();">
									<option>所有</option>
									<option>正常</option>
									<option>红色告警</option>
									<option>橙色告警</option>
									<option>黄色告警</option>
								</select>
								<input type="hidden" id="classID" name="classID" value="?" />
								
								<script>
								function onChangeSelect(){
								document.getElementById("classID").value=document.getElementById("selectKK").value;
								}
								</script>
							</div>

							<div>
								<span>处理情况</span> <select>
									<option>未处理</option>
									<option>已处理</option>
								</select>
							</div>

							<div>
								<span>开始时间</span> <input value=""
									style="width: 96px; margin-left: 15px; height: 22px;"
									class="Wdate" onclick="WdatePicker()"
									onfocus="WdatePicker({startDate:'%y-%M-01 00:00:00',dateFmt:'yyyy-MM-dd HH:mm:ss',alwaysUseStartDate:true})"
									type="text" />

							</div>
							<div>
								<span>结束时间</span> <input value=""
									style="width: 96px; height: 22px;" class="Wdate"
									onclick="WdatePicker()"
									onfocus="WdatePicker({startDate:'%y-%M-01 00:00:00',dateFmt:'yyyy-MM-dd HH:mm:ss',alwaysUseStartDate:true})"
									type="text" />

							</div>

							<div style="position: relative; width: 260px;" class="tab">
								<div onclick="test_action()">
									<span>搜索</span>
								</div>
								<div>
									<span>导出</span>
								</div>
								<img style="float: right; position: relative; cursor: pointer;"
									src="Image/dataDeal/print.png" />
							</div>
						</div>

					</div>
















					<div
						style="clear: both; position: relative; top: 20px; padding-left: 40px; padding-right: 40px;">
						<p:dataTable var="vo" value="#{settingAction.nvs2}"
							rowKey="#{vo.id}" scrollable="true" scrollHeight="280"
							scrollWidth="92%" selection="#{settingAction.selectedNode}"
							style="width:100%;margin: 0 auto;position: relative;top: 10px; "
							id="table" editable="true">

							<p:column selectionMode="multiple" style="width:5px;" />

							<p:column headerText="序号" style="width:60px;text-align:center;">
								<h:outputText value="#{vo.id}" />
							</p:column>

							<p:column headerText="告警测温点"
								style="width:60px;text-align:center;">
								<h:outputText value="#{vo.name}" />
							</p:column>

							<p:column headerText="所属发射机及部件"
								style="width:60px;text-align:center;">
								<h:outputText value="" />
							</p:column>

							<p:column headerText="温度数据" style="width:60px;text-align:center;">
								<h:outputText value="" />
							</p:column>

							<p:column headerText="告警阈值" style="width:60px;text-align:center;">
								<h:outputText value="" />
							</p:column>

							<p:column headerText="告警等级" style="width:60px;text-align:center;">
								<h:outputText value="" />
							</p:column>

							<p:column headerText="告警时间" style="width:60px;text-align:center;">
								<h:outputText value="" />
							</p:column>
							<p:column headerText="处理情况" style="width:60px;text-align:center;">
								<h:outputText value="" />
							</p:column>
							<p:column headerText="备注" style="width:60px;text-align:center;">
								<h:outputText value="" />
							</p:column>


						</p:dataTable>
					</div>

				</div>

				<!-- 服务器设置 弹窗 开始-->
				<div id="fwqPop"
					style="display: none; width: 400px; height: 350px; position: absolute; left: 0px; right: 0px; margin: auto; top: 0px; bottom: 0px; background: rgb(255, 255, 255) none repeat scroll 0% 0%; border: 1px solid rgb(204, 204, 204);">
					<div
						style="text-align: center; background: rgb(68, 139, 191) none repeat scroll 0% 0%; height: 30px;">
						<span
							style="color: rgb(255, 255, 255); position: relative; top: 4px;">处理告警</span>
					</div>
					<div class="popinput">
						<div style="margin-left: 80px; margin-top: 20px;">

							<span style="">告警测温点：散热片A相</span>
						</div>
						<div style="margin-left: 80px; margin-top: 20px;">
							<span>所属部位：CO1发射机整流柜</span>
						</div>

						<div style="margin-left: 80px; margin-top: 20px;">
							<span>温度数据：88℃</span>
						</div>
						<div style="margin-left: 80px; margin-top: 20px;">
							<span>告警等级/阀值：告警/75</span>
						</div>
						<div style="margin-left: 80px; margin-top: 20px;">
							<span>备注：</span><input style="height: 50px; width: 200px;"
								type="text" />
						</div>
					</div>

					<div
						style="width: 150px; margin: 30px auto 0px; position: relative;">
						<div onclick="fuwuqiHide()"
							style="cursor: pointer; text-align: center; margin-right: 20px; width: 75px; float: left; background: rgb(204, 204, 204) none repeat scroll 0% 0%; border: 1px solid rgb(170, 170, 170);">
							<span style="color: rgb(51, 51, 51);">提交</span>
						</div>
						<div onclick="fuwuqiHide()"
							style="cursor: pointer; position: absolute; width: 75px; text-align: center; right: -10px; background: rgb(204, 204, 204) none repeat scroll 0% 0%; border: 1px solid rgb(170, 170, 170);">
							<span style="color: rgb(51, 51, 51);">取消</span>
						</div>
					</div>
				</div>
				<!-- 服务器设置 弹窗 结束-->
			</div>

		</div>
		<ui:include src="common/footer.xhtml">
		</ui:include>
	</h:form>
</h:body>
</html>
